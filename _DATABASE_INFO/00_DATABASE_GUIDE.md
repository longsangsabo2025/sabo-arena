# ğŸ—„ï¸ DATABASE INFORMATION - COMPLETE GUIDE

*Tá»•ng há»£p toÃ n bá»™ thÃ´ng tin vá» database schema, migrations, RLS policies*

---

## ğŸ“ Structure

```
_DATABASE_INFO/
â”œâ”€â”€ 00_DATABASE_GUIDE.md          (This file)
â”œâ”€â”€ 01_SCHEMA/                    (Table definitions, schema files)
â”œâ”€â”€ 02_MIGRATIONS/                (Migration scripts)
â”œâ”€â”€ 03_RLS_POLICIES/              (Row Level Security policies)
â””â”€â”€ 04_FUNCTIONS/                 (Database functions)
```

---

## ğŸ¯ Main Tables

### Core Tables

1. **users** - User profiles and authentication
2. **clubs** - Club information and management
3. **club_members** - Club membership relations
4. **challenges** - Challenge system
5. **tournaments** - Tournament data
6. **matches** - Match records
7. **posts** - Social feed posts
8. **chat_rooms** - Chat conversations
9. **chat_messages** - Chat messages
10. **notifications** - Push notifications

### Supporting Tables

- **vouchers** - Voucher/payment system
- **rank_requests** - Rank approval system
- **club_reviews** - Club ratings/reviews
- **table_reservations** - Table booking system

---

## ğŸ” RLS Policies

**Row Level Security** Ä‘Æ°á»£c enable cho táº¥t cáº£ tables:

- **SELECT policies**: Users cÃ³ thá»ƒ xem public data vÃ  own data
- **INSERT policies**: Users chá»‰ cÃ³ thá»ƒ insert own data
- **UPDATE policies**: Users chá»‰ cÃ³ thá»ƒ update own data
- **DELETE policies**: Users chá»‰ cÃ³ thá»ƒ delete own data hoáº·c admin

**Special Cases:**
- Club owners cÃ³ thá»ƒ manage club members
- Admin users cÃ³ full access
- Public profiles readable by all

---

## ğŸ“¦ Migration History

Xem `02_MIGRATIONS/SUPABASE_MIGRATIONS_REFERENCE.md` cho danh sÃ¡ch Ä‘áº§y Ä‘á»§

**Latest migrations focus on:**
- Chat system implementation
- Club features enhancement
- Tournament bracket system
- Notification system

---

## ğŸ”§ Common Operations

### Create New Migration

```bash
# In supabase/migrations/ folder
# Format: YYYYMMDD_description.sql
supabase migration new add_feature_name
```

### Apply Migration

```bash
supabase db push
```

### Check Schema

```bash
supabase db dump --schema public
```

---

## ğŸ“š Related Documentation

- [Database Schema Detail](_CORE_DOCS_OPTIMIZED/DATABASE_SCHEMA.md)
- [Migration Scripts](./02_MIGRATIONS/)
- [RLS Policies](./03_RLS_POLICIES/)

---

*Generated by organize_scripts_and_db.py*
