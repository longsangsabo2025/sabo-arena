<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SABO Arena - Documentation</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <style>
    .markdown-body { font-size: 16px; line-height: 1.8; }
    .markdown-body h1 { font-size: 2em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.5em; margin-top: 1.5em; }
    .markdown-body h2 { font-size: 1.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; margin-top: 1.5em; }
    .markdown-body h3 { font-size: 1.25em; margin-top: 1.5em; }
    .markdown-body code { background: #f3f4f6; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.9em; }
    .markdown-body pre { background: #1f2937; color: #e5e7eb; padding: 1em; border-radius: 8px; overflow-x: auto; }
    .markdown-body pre code { background: transparent; padding: 0; }
    .markdown-body table { border-collapse: collapse; width: 100%; margin: 1em 0; }
    .markdown-body th, .markdown-body td { border: 1px solid #e5e7eb; padding: 0.5em 1em; }
    .markdown-body th { background: #f9fafb; }
    .markdown-body blockquote { border-left: 4px solid #3b82f6; padding-left: 1em; color: #6b7280; }
    .markdown-body a { color: #3b82f6; }
    .markdown-body a:hover { text-decoration: underline; }
    .sidebar-item { transition: all 0.2s; }
    .sidebar-item:hover { background: #f3f4f6; }
    .sidebar-item.active { background: #dbeafe; border-left: 3px solid #3b82f6; }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Header -->
  <header class="bg-white shadow-sm fixed top-0 left-0 right-0 z-50">
    <div class="flex items-center justify-between px-6 py-4">
      <div class="flex items-center gap-4">
        <button id="toggleSidebar" class="lg:hidden p-2 hover:bg-gray-100 rounded">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
        <h1 class="text-xl font-bold text-gray-800">üèüÔ∏è SABO Arena Docs</h1>
      </div>
      <div class="flex items-center gap-4">
        <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm..." 
               class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64">
        <span id="versionBadge" class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">v1.2.1</span>
      </div>
    </div>
  </header>

  <div class="flex pt-16">
    <!-- Sidebar -->
    <aside id="sidebar" class="w-64 bg-white shadow-sm fixed left-0 top-16 bottom-0 overflow-y-auto transform lg:translate-x-0 -translate-x-full transition-transform z-40">
      <nav class="p-4">
        <div class="mb-4">
          <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">üöÄ B·∫Øt ƒê·∫ßu</h3>
          <div class="space-y-1">
            <a href="#" data-doc="00-START-HERE.md" class="sidebar-item block px-3 py-2 rounded text-sm">üëî Gi·ªõi Thi·ªáu D·ª± √Ån</a>
            <a href="#" data-doc="HOW_TO_READ_DOCS.md" class="sidebar-item block px-3 py-2 rounded text-sm">üìñ H∆∞·ªõng D·∫´n ƒê·ªçc Docs</a>
            <a href="#" data-doc="05-GUIDES/QUICK_START.md" class="sidebar-item block px-3 py-2 rounded text-sm">‚ö° Quick Start</a>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">üèóÔ∏è Architecture</h3>
          <div class="space-y-1">
            <a href="#" data-doc="01-ARCHITECTURE/SYSTEM_ARCHITECTURE.md" class="sidebar-item block px-3 py-2 rounded text-sm">System Architecture</a>
            <a href="#" data-doc="01-ARCHITECTURE/FLUTTER_PROJECT_STRUCTURE.md" class="sidebar-item block px-3 py-2 rounded text-sm">Project Structure</a>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">‚ú® Features</h3>
          <div class="space-y-1">
            <a href="#" data-doc="02-FEATURES/TOURNAMENTS_CONSOLIDATED.md" class="sidebar-item block px-3 py-2 rounded text-sm">üèÜ Tournaments</a>
            <a href="#" data-doc="02-FEATURES/ELO_UPDATE_FLOW.md" class="sidebar-item block px-3 py-2 rounded text-sm">üìä ELO System</a>
            <a href="#" data-doc="02-FEATURES/VOUCHER_SYSTEM_100_COMPLETE.md" class="sidebar-item block px-3 py-2 rounded text-sm">üéüÔ∏è Vouchers</a>
            <a href="#" data-doc="02-FEATURES/CLUBS_CONSOLIDATED.md" class="sidebar-item block px-3 py-2 rounded text-sm">üè¢ Clubs</a>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">üîß Technical</h3>
          <div class="space-y-1">
            <a href="#" data-doc="07-API/API_REFERENCE.md" class="sidebar-item block px-3 py-2 rounded text-sm">üîå API Reference</a>
            <a href="#" data-doc="08-DATABASE/DATABASE_SCHEMA.md" class="sidebar-item block px-3 py-2 rounded text-sm">üóÑÔ∏è Database Schema</a>
          </div>
        </div>

        <div class="mb-4">
          <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">üöÄ Deployment</h3>
          <div class="space-y-1">
            <a href="#" data-doc="04-DEPLOYMENT/DEPLOYMENT_GUIDE.md" class="sidebar-item block px-3 py-2 rounded text-sm">Deploy Guide</a>
            <a href="#" data-doc="05-GUIDES/CHANGELOG.md" class="sidebar-item block px-3 py-2 rounded text-sm">üìù Changelog</a>
          </div>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 lg:ml-64 p-6">
      <div class="max-w-4xl mx-auto">
        <!-- Breadcrumb -->
        <nav id="breadcrumb" class="mb-4 text-sm text-gray-500">
          <span>Docs</span> / <span id="currentDoc">00-START-HERE.md</span>
        </nav>

        <!-- Content -->
        <article id="content" class="bg-white rounded-lg shadow-sm p-8 markdown-body">
          <div class="text-center py-12">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"></div>
            <p class="mt-4 text-gray-500">Loading documentation...</p>
          </div>
        </article>

        <!-- Footer -->
        <footer class="mt-8 text-center text-sm text-gray-500">
          <p>Last updated: <span id="lastUpdated">November 29, 2025</span></p>
          <p class="mt-2">
            <a href="#" class="text-blue-500 hover:underline">Edit on GitHub</a> ¬∑ 
            <a href="#" class="text-blue-500 hover:underline">Report Issue</a>
          </p>
        </footer>
      </div>
    </main>
  </div>

  <!-- Search Modal -->
  <div id="searchModal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center">
    <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4">
      <div class="p-4 border-b">
        <input type="text" id="modalSearchInput" placeholder="T√¨m ki·∫øm t√†i li·ªáu..." 
               class="w-full px-4 py-2 text-lg focus:outline-none">
      </div>
      <div id="searchResults" class="max-h-96 overflow-y-auto p-4">
        <p class="text-gray-500 text-center">Nh·∫≠p t·ª´ kh√≥a ƒë·ªÉ t√¨m ki·∫øm...</p>
      </div>
    </div>
  </div>

  <script>
    // Documentation index
    const docsIndex = {
      '00-START-HERE.md': { title: 'Gi·ªõi Thi·ªáu D·ª± √Ån', category: 'start' },
      'HOW_TO_READ_DOCS.md': { title: 'H∆∞·ªõng D·∫´n ƒê·ªçc Docs', category: 'start' },
      'INDEX.md': { title: 'Documentation Index', category: 'start' },
      '01-ARCHITECTURE/SYSTEM_ARCHITECTURE.md': { title: 'System Architecture', category: 'architecture' },
      '01-ARCHITECTURE/FLUTTER_PROJECT_STRUCTURE.md': { title: 'Flutter Project Structure', category: 'architecture' },
      '02-FEATURES/TOURNAMENTS_CONSOLIDATED.md': { title: 'Tournament System', category: 'features' },
      '02-FEATURES/ELO_UPDATE_FLOW.md': { title: 'ELO System', category: 'features' },
      '02-FEATURES/VOUCHER_SYSTEM_100_COMPLETE.md': { title: 'Voucher System', category: 'features' },
      '02-FEATURES/CLUBS_CONSOLIDATED.md': { title: 'Club Management', category: 'features' },
      '04-DEPLOYMENT/DEPLOYMENT_GUIDE.md': { title: 'Deployment Guide', category: 'deployment' },
      '05-GUIDES/QUICK_START.md': { title: 'Quick Start', category: 'guides' },
      '05-GUIDES/CHANGELOG.md': { title: 'Changelog', category: 'guides' },
      '07-API/API_REFERENCE.md': { title: 'API Reference', category: 'technical' },
      '08-DATABASE/DATABASE_SCHEMA.md': { title: 'Database Schema', category: 'technical' },
    };

    // Current doc
    let currentDoc = '00-START-HERE.md';

    // Load markdown file
    async function loadDoc(docPath) {
      const content = document.getElementById('content');
      const breadcrumb = document.getElementById('currentDoc');
      
      try {
        // In real implementation, this would fetch from server
        // For now, show a placeholder
        content.innerHTML = `
          <div class="text-center py-12">
            <p class="text-gray-500">üìÑ Loading: ${docPath}</p>
            <p class="mt-4 text-sm text-gray-400">
              In production, this would load the actual markdown file.<br>
              Run a local server to view documentation.
            </p>
            <div class="mt-8 p-4 bg-yellow-50 rounded-lg text-left">
              <h3 class="font-bold text-yellow-800">üí° How to serve docs locally:</h3>
              <pre class="mt-2 bg-gray-800 text-gray-100 p-4 rounded text-sm overflow-x-auto">
cd _DOCS
python -m http.server 8080
# or
npx serve .</pre>
              <p class="mt-2 text-sm text-yellow-700">Then open: http://localhost:8080/docs-viewer.html</p>
            </div>
          </div>
        `;
        
        breadcrumb.textContent = docPath;
        currentDoc = docPath;
        
        // Update sidebar active state
        document.querySelectorAll('.sidebar-item').forEach(item => {
          item.classList.remove('active');
          if (item.dataset.doc === docPath) {
            item.classList.add('active');
          }
        });
        
      } catch (error) {
        content.innerHTML = `
          <div class="text-center py-12 text-red-500">
            <p>‚ùå Error loading document</p>
            <p class="text-sm mt-2">${error.message}</p>
          </div>
        `;
      }
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // Load initial doc
      loadDoc('00-START-HERE.md');

      // Sidebar navigation
      document.querySelectorAll('.sidebar-item').forEach(item => {
        item.addEventListener('click', (e) => {
          e.preventDefault();
          const docPath = item.dataset.doc;
          if (docPath) {
            loadDoc(docPath);
          }
        });
      });

      // Mobile sidebar toggle
      document.getElementById('toggleSidebar').addEventListener('click', () => {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('-translate-x-full');
      });

      // Search
      const searchInput = document.getElementById('searchInput');
      const searchModal = document.getElementById('searchModal');
      
      searchInput.addEventListener('focus', () => {
        searchModal.classList.remove('hidden');
        searchModal.classList.add('flex');
        document.getElementById('modalSearchInput').focus();
      });

      searchModal.addEventListener('click', (e) => {
        if (e.target === searchModal) {
          searchModal.classList.add('hidden');
          searchModal.classList.remove('flex');
        }
      });

      // Keyboard shortcut
      document.addEventListener('keydown', (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
          e.preventDefault();
          searchModal.classList.remove('hidden');
          searchModal.classList.add('flex');
          document.getElementById('modalSearchInput').focus();
        }
        if (e.key === 'Escape') {
          searchModal.classList.add('hidden');
          searchModal.classList.remove('flex');
        }
      });
    });
  </script>
</body>
</html>
